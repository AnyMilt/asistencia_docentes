{% extends 'base.html' %}
{% block content %}
<form method="POST" class="row g-3">
  <!-- âœ… Token CSRF -->
  <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">

  <!-- Docente con bÃºsqueda AJAX -->
  <div class="col-md-6">
    <label class="form-label">ğŸ‘¤ Docente</label>
    <select class="form-select" name="docente_id" required>
      <option value="">Seleccione un docente</option>
      {% for d in docentes %}
        <option value="{{ d.id }}">{{ d.nombre }}</option>
      {% endfor %}
    </select>
  </div>

  <!-- Fechas -->
  <div class="col-md-3">
    <label class="form-label">ğŸ“… Inicio</label>
    <input type="date" class="form-control" name="fecha_inicio" required>
  </div>
  <div class="col-md-3">
    <label class="form-label">ğŸ“… Fin</label>
    <input type="date" class="form-control" name="fecha_fin" required>
  </div>

  <!-- Motivo -->
  <div class="col-md-12">
    <label class="form-label">ğŸ“ Motivo</label>
    <textarea class="form-control" name="motivo" rows="2"></textarea>
  </div>

  <!-- Estado y aprobaciÃ³n -->
  <div class="col-md-4">
    <label class="form-label">ğŸ”˜ Estado</label>
    <select class="form-select" name="estado">
      <option value="pendiente">Pendiente</option>
      <option value="aprobada">Aprobada</option>
      <option value="rechazada">Rechazada</option>
    </select>
  </div>
  <div class="col-md-8">
    <label class="form-label">ğŸ‘¤ Aprobado por</label>
    <input type="text" class="form-control" name="aprobado_por">
  </div>

  <!-- BotÃ³n -->
  <div class="col-md-12 text-end">
    <button type="submit" class="btn btn-primary">
      <i class="bi bi-save me-1"></i> Registrar licencia
    </button>
  </div>
</form>
{% endblock %}

{% block scripts %}
<!-- Select2 CSS & JS -->
<link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
{% endblock %}
