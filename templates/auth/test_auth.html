{% extends 'base.html' %}

{% block content %}
<div class="container py-4">
    <div class="row">
        <div class="col-md-12">
            <div class="card">
                <div class="card-header">
                    <h5><i class="bi bi-check-circle me-2"></i>Estado del Sistema de Autenticación</h5>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6">
                            <h6>Información de Sesión:</h6>
                            <ul class="list-group list-group-flush">
                                <li class="list-group-item d-flex justify-content-between">
                                    <span>Usuario autenticado:</span>
                                    <span class="badge bg-{{ 'success' if current_user.is_authenticated else 'danger' }}">
                                        {{ 'Sí' if current_user.is_authenticated else 'No' }}
                                    </span>
                                </li>
                                {% if current_user.is_authenticated %}
                                <li class="list-group-item d-flex justify-content-between">
                                    <span>Usuario:</span>
                                    <span>{{ current_user.username }}</span>
                                </li>
                                <li class="list-group-item d-flex justify-content-between">
                                    <span>Rol:</span>
                                    <span class="badge bg-{{ 'danger' if current_user.is_admin() else 'primary' }}">
                                        {{ 'Administrador' if current_user.is_admin() else 'Talento Humano' }}
                                    </span>
                                </li>
                                {% endif %}
                            </ul>
                        </div>
                        <div class="col-md-6">
                            <h6>Acciones Disponibles:</h6>
                            <div class="d-grid gap-2">
                                {% if current_user.is_authenticated %}
                                    <a href="{{ url_for('auth.profile') }}" class="btn btn-outline-primary">
                                        <i class="bi bi-person me-2"></i>Ver Perfil
                                    </a>
                                    <a href="{{ url_for('auth.change_password') }}" class="btn btn-outline-warning">
                                        <i class="bi bi-key me-2"></i>Cambiar Contraseña
                                    </a>
                                    <a href="{{ url_for('auth.logout') }}" class="btn btn-outline-danger">
                                        <i class="bi bi-box-arrow-right me-2"></i>Cerrar Sesión
                                    </a>
                                {% else %}
                                    <a href="{{ url_for('auth.login') }}" class="btn btn-primary">
                                        <i class="bi bi-box-arrow-in-right me-2"></i>Iniciar Sesión
                                    </a>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                    
                    <hr>
                    
                    <div class="alert alert-info">
                        <h6><i class="bi bi-info-circle me-2"></i>Instrucciones para cerrar sesión:</h6>
                        <ol>
                            <li>Haz clic en tu nombre de usuario en la barra de navegación (esquina superior derecha)</li>
                            <li>Se desplegará un menú con opciones</li>
                            <li>Haz clic en "Cerrar Sesión"</li>
                            <li>Serás redirigido a la página de login</li>
                        </ol>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

